<div class="users">
  <div class="users__title">
    <h2>Users
      <button (click)="refreshUsers()" class="btn small transparent" type="button">
        <i class="fas fa-sync"></i>
      </button>
    </h2>
  </div>

  <div class="users__list">

    <app-table-crud
      *ngIf="users$ | async as dataTable; else onLoading"
      [dataTable]="dataTable"
      [tableOptions]="tableOptions"
      (onEdit)="onEdit($event)"
      (onDelete)="onDelete($event)"
      [disableEdit]=true>
    </app-table-crud>

    <ng-template #onLoading>
      <app-loading></app-loading>
    </ng-template>

    <app-modal [initialStatus]="deleteModal" (onClose)="closeOnDeleteModal()">
      <h2>Are you sure to delete this question?</h2>
      <div class="modal__confirm">
        <button (click)="closeOnDeleteModal()" type="button" class="btn default">Cancel</button>
        <button [disabled]="onDeletingProcess" (click)="deleteQuestion()" type="button" class="btn error">
          <ng-container *ngIf="!onDeletingProcess; else loadingDelete">
            Yes, delete it.
          </ng-container>
          <ng-template #loadingDelete>
            <i class="fas fa-spinner fa-pulse mr-1"></i>
            Loading
          </ng-template>
        </button>
      </div>
    </app-modal>

  </div>
</div>